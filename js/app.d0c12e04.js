(function(){"use strict";var e={5387:function(e,t,o){var s=o(9963),r=o(3907),n=o(3416),a=o(7663),i=o(5503),d=o(5319);const l={apiKey:"AIzaSyCvXMvfVQ9SECVrwVJxt_fCLGlUWyApr0k",authDomain:"vue-firebase-project-d18cf.firebaseapp.com",projectId:"vue-firebase-project-d18cf",storageBucket:"vue-firebase-project-d18cf.appspot.com",messagingSenderId:"943588443680",appId:"1:943588443680:web:81d950dcccea6af7fdde45"},u=(0,i.ZF)(l),c=(0,d.v0)(),p=(0,a.N8)(u),m={namespaced:!0,state(){return{todos:{},isLoading:!0,todoFilter:"all"}},actions:{subscribeToFirebase({commit:e,rootGetters:t}){e("setLoadingStatus",!0);const o=t["user/getUserUid"],s=(0,a.iH)(p,`user/${o}/todos`);(0,a.jM)(s,(t=>{const o=t.val(),s=o||{};e("updateTodos",s),e("setLoadingStatus",!1)}))},addNewTaskAction({rootGetters:e},t){const o={id:(0,n.x0)(4),title:t,isDone:!1,isEdit:!1},s=e["user/getUserUid"];(0,a.VF)((0,a.iH)(p,`user/${s}/todos/`),{...o})},setTodoDoneAction({state:e,rootGetters:t},o){const s=e.todos[o],r=t["user/getUserUid"];(0,a.Vx)((0,a.iH)(p,`user/${r}/todos/${o}`),{isDone:!s.isDone})},setTodoEditAction({state:e,rootGetters:t},o){const s=e.todos[o],r=t["user/getUserUid"];(0,a.Vx)((0,a.iH)(p,`user/${r}/todos/${o}`),{isEdit:!s.isEdit})},removeTodoAction({rootGetters:e},t){const o=e["user/getUserUid"];(0,a.Od)((0,a.iH)(p,`user/${o}/todos/${t}`))},setEditedTodoAction({rootGetters:e},{value:t,key:o}){const s=e["user/getUserUid"];(0,a.Vx)((0,a.iH)(p,`user/${s}/todos/${o}`),{title:t,isEdit:!1})},setFilteredTodoAction({rootGetters:e,commit:t},o){t("updateTodoFilter",o);const s=e["user/getUserUid"];let r=null;switch(o){case"done":r=(0,a.IO)((0,a.iH)(p,`user/${s}/todos/`),(0,a.g2)("isDone"),(0,a.EW)(!0));break;case"undone":r=(0,a.IO)((0,a.iH)(p,`user/${s}/todos/`),(0,a.g2)("isDone"),(0,a.EW)(!1));break;default:r=(0,a.IO)((0,a.iH)(p,`user/${s}/todos/`),(0,a.g2)("isDone"));break}(0,a.U2)(r).then((e=>{t("updateTodos",e.val())}))}},mutations:{updateTodos(e,t){e.todos=t},setLoadingStatus(e,t){e.isLoading=t},updateTodoFilter(e,t){e.todoFilter=t}},getters:{allTodos:e=>e.todos,getLoadingStatus(e){return e.isLoading},getTodoFilter(e){return e.todoFilter}}};var g=m;o(1703);const v={namespaced:!0,state(){return{user:null,isUserAuth:!1}},mutations:{setUser(e,t){e.user=t},setUserAuth(e,t){e.isUserAuth=t}},actions:{async signUp({commit:e},{email:t,password:o,username:s}){const r=await(0,d.Xb)(c,t,o);if(!r)throw new Error("could not complete signUp");(0,d.ck)(r.user,{displayName:s}),e("setUser",r.user),e("setUserAuth",!0)},async signIn({commit:e},{email:t,password:o}){const s=await(0,d.e5)(c,t,o);if(!s)throw new Error("could not complete signIn");e("setUser",s.user),e("setUserAuth",!0)},async logOut({commit:e}){await(0,d.w7)(c),e("setUser",null),e("setUserUid",null),e("setUserAuth",!1)}},getters:{getUser(e){return e.user},getUserUid(e){return e.user.uid}}};var h=v;const f=(0,r.MT)({modules:{user:h,todos:g}});f.subscribe(((e,t)=>{localStorage.setItem("todos",JSON.stringify(t.todos.todos))}));var _=f,w=o(2119),k=o(6252),y=o(3577);const U=e=>((0,k.dD)("data-v-233603a4"),e=e(),(0,k.Cn)(),e),T={class:"wrapper"},b=U((()=>(0,k._)("h2",null,"Sign In please",-1))),D=U((()=>(0,k._)("button",null,"submit",-1))),A=(0,k.Uk)(" Are you not registered? SIGN UP please "),I=(0,k.Uk)("here"),F={key:0,class:"error"};function O(e,t,o,r,n,a){const i=(0,k.up)("router-link");return(0,k.wg)(),(0,k.iD)("div",T,[(0,k._)("form",{action:"",onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>a.signInUser&&a.signInUser(...e)),["prevent"]))},[b,(0,k.wy)((0,k._)("input",{type:"mail","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),placeholder:"@email"},null,512),[[s.nr,n.email]]),(0,k.wy)((0,k._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"password"},null,512),[[s.nr,n.password]]),D,(0,k._)("div",null,[A,(0,k.Wm)(i,{to:"/signup"},{default:(0,k.w5)((()=>[I])),_:1})]),n.error?((0,k.wg)(),(0,k.iD)("div",F,(0,y.zw)(n.error),1)):(0,k.kq)("",!0)],32)])}var V={data(){return{email:"",password:"",error:null}},methods:{...(0,r.nv)({signIn:"user/signIn"}),async signInUser(){try{await this.signIn(this.userData),this.email="",this.password="",this.$router.push("/todoapp")}catch(e){this.error=e.message}}},computed:{userData(){return{email:this.email,password:this.password}}}},C=o(3744);const E=(0,C.Z)(V,[["render",O],["__scopeId","data-v-233603a4"]]);var S=E;const x=e=>((0,k.dD)("data-v-53cf0652"),e=e(),(0,k.Cn)(),e),$={class:"wrapper"},j=x((()=>(0,k._)("h2",null,"Registration...",-1))),N=x((()=>(0,k._)("button",null,"register me",-1))),G=(0,k.Uk)("if you have registration, SIGN IN please "),H=(0,k.Uk)("here"),K={key:0,class:"error"};function W(e,t,o,r,n,a){const i=(0,k.up)("router-link");return(0,k.wg)(),(0,k.iD)("div",$,[(0,k._)("form",{action:"",onSubmit:t[3]||(t[3]=(0,s.iM)(((...e)=>a.signUpUser&&a.signUpUser(...e)),["prevent"]))},[j,(0,k.wy)((0,k._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"Your name"},null,512),[[s.nr,n.username]]),(0,k.wy)((0,k._)("input",{type:"mail","onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),placeholder:"@email"},null,512),[[s.nr,n.email]]),(0,k.wy)((0,k._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),placeholder:"password"},null,512),[[s.nr,n.password]]),N,(0,k._)("div",null,[G,(0,k.Wm)(i,{to:"/"},{default:(0,k.w5)((()=>[H])),_:1})]),n.error?((0,k.wg)(),(0,k.iD)("div",K,(0,y.zw)(n.error),1)):(0,k.kq)("",!0)],32)])}var L={data(){return{username:"",email:"",password:"",error:null}},methods:{...(0,r.nv)({signUp:"user/signUp"}),async signUpUser(){try{await this.signUp(this.userData),this.username="",this.email="",this.password="",this.$router.push("/todoapp")}catch(e){this.error=e.message}}},computed:{userData(){return{username:this.username,email:this.email,password:this.password}}}};const Z=(0,C.Z)(L,[["render",W],["__scopeId","data-v-53cf0652"]]);var z=Z;const M={class:"wrapper"};function P(e,t,o,s,r,n){const a=(0,k.up)("AddTask"),i=(0,k.up)("TodoList");return(0,k.wg)(),(0,k.iD)("div",M,[(0,k.Wm)(a),(0,k.Wm)(i)])}const Y=e=>((0,k.dD)("data-v-f8f2e596"),e=e(),(0,k.Cn)(),e),q=Y((()=>(0,k._)("button",{class:"submit btn"},[(0,k._)("img",{class:"btn__img",src:"https://img.icons8.com/material-outlined/48/000000/add.png"})],-1)));function J(e,t,o,r,n,a){return(0,k.wg)(),(0,k.iD)("form",{action:"",class:"todoForm",onSubmit:t[1]||(t[1]=(0,s.iM)(((...e)=>a.sentTask&&a.sentTask(...e)),["prevent"]))},[(0,k.wy)((0,k._)("input",{class:"input_task",type:"text",placeholder:"Enter your task...","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputTask=e)},null,512),[[s.nr,n.inputTask]]),q],32)}var X={data(){return{inputTask:""}},methods:{...(0,r.nv)({addNewTaskAction:"todos/addNewTaskAction"}),sentTask(){this.inputTask?(this.addNewTaskAction(this.inputTask),this.inputTask=""):alert("write new task and press Enter")}}};const B=(0,C.Z)(X,[["render",J],["__scopeId","data-v-f8f2e596"]]);var Q=B,R=o(2485);const ee=e=>((0,k.dD)("data-v-0ca2f93a"),e=e(),(0,k.Cn)(),e),te={key:0,class:"loading"},oe=ee((()=>(0,k._)("img",{src:R,class:"preloader_img",alt:""},null,-1))),se=[oe],re={key:1,class:"loaded"},ne={class:"filter_wrapper"},ae={class:"filteredTodos"},ie=ee((()=>(0,k._)("span",null,"Filter:",-1))),de=ee((()=>(0,k._)("label",null,"all",-1))),le=ee((()=>(0,k._)("label",null,"done",-1))),ue=ee((()=>(0,k._)("label",null,"undone",-1))),ce={key:0},pe=ee((()=>(0,k._)("hr",null,null,-1))),me=(0,k.Uk)(" Total tasks: "),ge={key:1,class:"todo__empty_block"};function ve(e,t,o,r,n,a){const i=(0,k.up)("TodoItem");return e.loadingStatus?((0,k.wg)(),(0,k.iD)("div",te,se)):((0,k.wg)(),(0,k.iD)("div",re,[(0,k._)("div",ne,[(0,k._)("div",ae,[ie,(0,k.wy)((0,k._)("input",{type:"radio",value:"all","onUpdate:modelValue":t[0]||(t[0]=e=>n.filter=e)},null,512),[[s.G2,n.filter]]),de,(0,k.wy)((0,k._)("input",{type:"radio",value:"done","onUpdate:modelValue":t[1]||(t[1]=e=>n.filter=e)},null,512),[[s.G2,n.filter]]),le,(0,k.wy)((0,k._)("input",{type:"radio",value:"undone","onUpdate:modelValue":t[2]||(t[2]=e=>n.filter=e)},null,512),[[s.G2,n.filter]]),ue])]),a.allTodosCounter?((0,k.wg)(),(0,k.iD)("ul",ce,[((0,k.wg)(!0),(0,k.iD)(k.HY,null,(0,k.Ko)(e.allTodos,((e,t)=>((0,k.wg)(),(0,k.j4)(i,{key:t,todo:e,todoKey:t},null,8,["todo","todoKey"])))),128)),(0,k.Uk)(" "+(0,y.zw)(e.getTodoFilter)+" ",1),pe,(0,k._)("li",null,[me,(0,k._)("b",null,(0,y.zw)(a.allTodosCounter),1)])])):((0,k.wg)(),(0,k.iD)("div",ge,"Nothing to do. Add new task!"))]))}const he=e=>((0,k.dD)("data-v-8f81b840"),e=e(),(0,k.Cn)(),e),fe={draggable:"true"},_e={class:"todo_item"},we={key:0,class:"todo_edit"},ke={key:1,class:"todo_message"},ye=["checked"],Ue={class:"todo_actions"},Te=he((()=>(0,k._)("img",{draggable:"false",class:"edit_img",src:"https://img.icons8.com/glyph-neue/64/000000/edit.png",alt:""},null,-1))),be=[Te],De=he((()=>(0,k._)("img",{draggable:"false",class:"remove_img",src:"https://img.icons8.com/windows/32/000000/delete-forever.png",alt:""},null,-1))),Ae=[De];function Ie(e,t,o,r,n,a){return(0,k.wg)(),(0,k.iD)("li",fe,[(0,k._)("div",_e,[o.todo.isEdit?((0,k.wg)(),(0,k.iD)("div",we,[(0,k.wy)((0,k._)("input",{class:"todo_input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.currentValueTask=e),onKeypress:t[1]||(t[1]=(0,s.D2)((t=>e.setEditedTodo({key:o.todoKey,value:n.currentValueTask})),["enter"]))},null,544),[[s.nr,n.currentValueTask]])])):((0,k.wg)(),(0,k.iD)("div",ke,[(0,k._)("input",{type:"checkbox",checked:o.todo.isDone,onChange:t[2]||(t[2]=t=>e.setTodoDone(o.todoKey))},null,40,ye),(0,k._)("div",{class:(0,y.C_)(["todo_title",{text_through:o.todo.isDone}]),onClick:t[3]||(t[3]=t=>e.setTodoDone(o.todoKey))},(0,y.zw)(o.todo.title),3)])),(0,k._)("div",Ue,[(0,k._)("div",{onClick:t[4]||(t[4]=t=>e.setTodoEdit(o.todoKey)),class:"edit"},be),(0,k._)("div",{class:"remove",onClick:t[5]||(t[5]=t=>e.removeTodo(o.todoKey))},Ae)])])])}var Fe={props:["todo","todoKey"],data(){return{currentValueTask:this.todo.title}},methods:{...(0,r.nv)({setTodoDone:"todos/setTodoDoneAction",setTodoEdit:"todos/setTodoEditAction",removeTodo:"todos/removeTodoAction",setEditedTodo:"todos/setEditedTodoAction"})}};const Oe=(0,C.Z)(Fe,[["render",Ie],["__scopeId","data-v-8f81b840"]]);var Ve=Oe,Ce={data(){return{filter:"all"}},watch:{filter(){this.setFilteredTodo(this.filter)}},components:{TodoItem:Ve},methods:{...(0,r.nv)({setFilteredTodo:"todos/setFilteredTodoAction"})},computed:{...(0,r.Se)({allTodos:"todos/allTodos",loadingStatus:"todos/getLoadingStatus",getTodoFilter:"todos/getTodoFilter"}),allTodosCounter(){return Object.keys(this.allTodos).length}}};const Ee=(0,C.Z)(Ce,[["render",ve],["__scopeId","data-v-0ca2f93a"]]);var Se=Ee,xe={components:{AddTask:Q,TodoList:Se}};const $e=(0,C.Z)(xe,[["render",P],["__scopeId","data-v-14189ffd"]]);var je=$e;const Ne=(0,k._)("h1",null,"404 error",-1),Ge=(0,k._)("h3",null,"return to main page",-1),He=(0,k.Uk)("home page");function Ke(e,t){const o=(0,k.up)("router-link");return(0,k.wg)(),(0,k.iD)("div",null,[Ne,Ge,(0,k.Wm)(o,{to:"/"},{default:(0,k.w5)((()=>[He])),_:1})])}const We={},Le=(0,C.Z)(We,[["render",Ke]]);var Ze=Le;const ze=(0,w.p7)({history:(0,w.r5)("/vue-todo-list-app/"),routes:[{path:"/",component:S},{path:"/signup",component:z},{path:"/todoapp/",component:je},{path:"/:pathMatch(.*)",component:Ze}]});var Me=ze;const Pe={class:"container"};function Ye(e,t,o,s,r,n){const a=(0,k.up)("HeaderApp"),i=(0,k.up)("router-view"),d=(0,k.up)("FooterApp");return(0,k.wg)(),(0,k.iD)(k.HY,null,[(0,k.Wm)(a,{class:"header"}),(0,k._)("div",Pe,[(0,k.Wm)(i)]),(0,k.Wm)(d,{class:"footer"})],64)}const qe=e=>((0,k.dD)("data-v-79ba44b3"),e=e(),(0,k.Cn)(),e),Je={class:"header__wrapper"},Xe=qe((()=>(0,k._)("div",{class:"header__logo"},"Vue todo App",-1))),Be={key:0,class:"header__contacts"},Qe={class:"header_userInfo"},Re={key:1},et=(0,k.Uk)("login");function tt(e,t,o,s,r,n){const a=(0,k.up)("router-link");return(0,k.wg)(),(0,k.iD)("div",Je,[Xe,e.user?((0,k.wg)(),(0,k.iD)("div",Be,[(0,k._)("div",Qe,[(0,k._)("span",null,(0,y.zw)(n.setUserName()),1)]),(0,k._)("img",{onClick:t[0]||(t[0]=(...t)=>e.logOut&&e.logOut(...t)),class:"img_out",src:"https://img.icons8.com/dotty/80/000000/exit.png"})])):((0,k.wg)(),(0,k.iD)("div",Re,[(0,k.Wm)(a,{to:"/"},{default:(0,k.w5)((()=>[et])),_:1})]))])}var ot={methods:{...(0,r.nv)({logOut:"user/logOut"}),setUserName(){if(this.user)return this.user.displayName}},computed:{...(0,r.Se)({user:"user/getUser"})}};const st=(0,C.Z)(ot,[["render",tt],["__scopeId","data-v-79ba44b3"]]);var rt=st;const nt=e=>((0,k.dD)("data-v-498821ce"),e=e(),(0,k.Cn)(),e),at={class:"footer"},it=nt((()=>(0,k._)("span",null,"designed by",-1))),dt=(0,k.Uk)(" "),lt=nt((()=>(0,k._)("a",{href:"https://savelev-konst.site/",target:"_blank"},"Konstantin Savelyev",-1))),ut=[it,dt,lt];function ct(e,t){return(0,k.wg)(),(0,k.iD)("div",at,ut)}const pt={},mt=(0,C.Z)(pt,[["render",ct],["__scopeId","data-v-498821ce"]]);var gt=mt,vt={name:"App",components:{HeaderApp:rt,FooterApp:gt}};const ht=(0,C.Z)(vt,[["render",Ye]]);var ft=ht;(0,d.Aj)(c,(e=>{e?(_.commit("user/setUser",e),_.commit("user/setUserAuth",!0),_.dispatch("todos/subscribeToFirebase"),Me.push("/todoapp")):Me.push("/")}));const _t=(0,s.ri)(ft);_t.use(Me),_t.use(_),_t.mount("#app")},2485:function(e,t,o){e.exports=o.p+"img/preloader.82514f49.gif"}},t={};function o(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,s,r,n){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],n=e[u][2];for(var i=!0,d=0;d<s.length;d++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](s[d])}))?s.splice(d--,1):(i=!1,n<a&&(a=n));if(i){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,r,n]}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/vue-todo-list-app/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,a=s[0],i=s[1],d=s[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(d)var u=d(o)}for(t&&t(s);l<a.length;l++)n=a[l],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},s=self["webpackChunkvue_todo_list_app"]=self["webpackChunkvue_todo_list_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(5387)}));s=o.O(s)})();
//# sourceMappingURL=app.d0c12e04.js.map