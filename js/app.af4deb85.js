(function(){"use strict";var e={7591:function(e,t,o){var s=o(9963),r=o(3907),n=o(3416),i=o(7663),a=o(5503),d=o(5319);const l={apiKey:"AIzaSyCvXMvfVQ9SECVrwVJxt_fCLGlUWyApr0k",authDomain:"vue-firebase-project-d18cf.firebaseapp.com",projectId:"vue-firebase-project-d18cf",storageBucket:"vue-firebase-project-d18cf.appspot.com",messagingSenderId:"943588443680",appId:"1:943588443680:web:81d950dcccea6af7fdde45"},u=(0,a.ZF)(l),c=(0,d.v0)(),p=(0,i.N8)(u),m={namespaced:!0,state(){return{todos:{},isLoading:!0,filterArr:[{id:0,name:"all",checked:!0},{id:1,name:"done",checked:!1},{id:2,name:"undone",checked:!1}]}},actions:{subscribeToFirebase({commit:e,rootGetters:t}){e("setLoadingStatus",!0);const o=t["user/getUserUid"],s=(0,i.iH)(p,`user/${o}/todos`);(0,i.jM)(s,(t=>{const o=t.val(),s=o||{};e("updateTodos",s),e("setLoadingStatus",!1)}))},addNewTaskAction({rootGetters:e,commit:t},o){const s={id:(0,n.x0)(4),title:o,isDone:!1,isEdit:!1};t("setCheckedFilter","all");const r=e["user/getUserUid"];(0,i.VF)((0,i.iH)(p,`user/${r}/todos/`),{...s})},setTodoDoneAction({state:e,rootGetters:t,commit:o},s){const r=e.todos[s];o("setCheckedFilter","all");const n=t["user/getUserUid"];(0,i.Vx)((0,i.iH)(p,`user/${n}/todos/${s}`),{isDone:!r.isDone})},setTodoEditAction({state:e,rootGetters:t,commit:o},s){const r=e.todos[s];o("setCheckedFilter","all");const n=t["user/getUserUid"];(0,i.Vx)((0,i.iH)(p,`user/${n}/todos/${s}`),{isEdit:!r.isEdit})},removeTodoAction({rootGetters:e},t){const o=e["user/getUserUid"];(0,i.Od)((0,i.iH)(p,`user/${o}/todos/${t}`))},setEditedTodoAction({rootGetters:e},{value:t,key:o}){const s=e["user/getUserUid"];(0,i.Vx)((0,i.iH)(p,`user/${s}/todos/${o}`),{title:t,isEdit:!1})},setFilteredTodoAction({rootGetters:e,commit:t},o){t("setCheckedFilter",o);const s=e["todos/getCheckedFilter"],r=e["user/getUserUid"];let n=null;switch(s.name){case"done":n=(0,i.IO)((0,i.iH)(p,`user/${r}/todos/`),(0,i.g2)("isDone"),(0,i.EW)(!0));break;case"undone":n=(0,i.IO)((0,i.iH)(p,`user/${r}/todos/`),(0,i.g2)("isDone"),(0,i.EW)(!1));break;default:n=(0,i.IO)((0,i.iH)(p,`user/${r}/todos/`),(0,i.g2)("isDone"));break}(0,i.U2)(n).then((e=>{t("updateTodos",e.val()?e.val():{})}))}},mutations:{updateTodos(e,t){e.todos=t},setLoadingStatus(e,t){e.isLoading=t},updateTodoFilter(e,t){e.todoFilter=t},setCheckedFilter(e,t){const o=e.filterArr.map((e=>(e.name==t?e.checked=!0:e.checked=!1,e)));e.filterArr=o}},getters:{allTodos:e=>e.todos,getLoadingStatus(e){return e.isLoading},getTodoFilter(e){return e.todoFilter},getFilterArr(e){return e.filterArr},getCheckedFilter(e){let t=null;return e.filterArr.forEach((e=>{!0===e.checked&&(t=e)})),t}}};var g=m;o(1703);const h={namespaced:!0,state(){return{user:null,isUserAuth:!1}},mutations:{setUser(e,t){e.user=t},setUserAuth(e,t){e.isUserAuth=t}},actions:{async signUp({commit:e},{email:t,password:o,username:s}){const r=await(0,d.Xb)(c,t,o);if(!r)throw new Error("could not complete signUp");(0,d.ck)(r.user,{displayName:s}),e("setUser",r.user),e("setUserAuth",!0)},async signIn({commit:e},{email:t,password:o}){const s=await(0,d.e5)(c,t,o);if(!s)throw new Error("could not complete signIn");e("setUser",s.user),e("setUserAuth",!0)},async logOut({commit:e}){await(0,d.w7)(c),e("setUser",null),e("setUserUid",null),e("setUserAuth",!1)}},getters:{getUser(e){return e.user},getUserUid(e){return e.user.uid}}};var v=h;const f=(0,r.MT)({modules:{user:v,todos:g}});var k=f,w=o(2119),_=o(6252),y=o(3577);const T=e=>((0,_.dD)("data-v-233603a4"),e=e(),(0,_.Cn)(),e),U={class:"wrapper"},b=T((()=>(0,_._)("h2",null,"Sign In please",-1))),D=T((()=>(0,_._)("button",null,"submit",-1))),A=(0,_.Uk)(" Are you not registered? SIGN UP please "),F=(0,_.Uk)("here"),C={key:0,class:"error"};function I(e,t,o,r,n,i){const a=(0,_.up)("router-link");return(0,_.wg)(),(0,_.iD)("div",U,[(0,_._)("form",{action:"",onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>i.signInUser&&i.signInUser(...e)),["prevent"]))},[b,(0,_.wy)((0,_._)("input",{type:"mail","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),placeholder:"@email"},null,512),[[s.nr,n.email]]),(0,_.wy)((0,_._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"password"},null,512),[[s.nr,n.password]]),D,(0,_._)("div",null,[A,(0,_.Wm)(a,{to:"/signup"},{default:(0,_.w5)((()=>[F])),_:1})]),n.error?((0,_.wg)(),(0,_.iD)("div",C,(0,y.zw)(n.error),1)):(0,_.kq)("",!0)],32)])}var E={data(){return{email:"",password:"",error:null}},methods:{...(0,r.nv)({signIn:"user/signIn"}),async signInUser(){try{await this.signIn(this.userData),this.email="",this.password="",this.$router.push("/todoapp")}catch(e){this.error=e.message}}},computed:{userData(){return{email:this.email,password:this.password}}}},O=o(3744);const S=(0,O.Z)(E,[["render",I],["__scopeId","data-v-233603a4"]]);var V=S;const x=e=>((0,_.dD)("data-v-53cf0652"),e=e(),(0,_.Cn)(),e),$={class:"wrapper"},j=x((()=>(0,_._)("h2",null,"Registration...",-1))),H=x((()=>(0,_._)("button",null,"register me",-1))),K=(0,_.Uk)("if you have registration, SIGN IN please "),N=(0,_.Uk)("here"),W={key:0,class:"error"};function L(e,t,o,r,n,i){const a=(0,_.up)("router-link");return(0,_.wg)(),(0,_.iD)("div",$,[(0,_._)("form",{action:"",onSubmit:t[3]||(t[3]=(0,s.iM)(((...e)=>i.signUpUser&&i.signUpUser(...e)),["prevent"]))},[j,(0,_.wy)((0,_._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),placeholder:"Your name"},null,512),[[s.nr,n.username]]),(0,_.wy)((0,_._)("input",{type:"mail","onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),placeholder:"@email"},null,512),[[s.nr,n.email]]),(0,_.wy)((0,_._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),placeholder:"password"},null,512),[[s.nr,n.password]]),H,(0,_._)("div",null,[K,(0,_.Wm)(a,{to:"/"},{default:(0,_.w5)((()=>[N])),_:1})]),n.error?((0,_.wg)(),(0,_.iD)("div",W,(0,y.zw)(n.error),1)):(0,_.kq)("",!0)],32)])}var Z={data(){return{username:"",email:"",password:"",error:null}},methods:{...(0,r.nv)({signUp:"user/signUp"}),async signUpUser(){try{await this.signUp(this.userData),this.username="",this.email="",this.password="",this.$router.push("/todoapp")}catch(e){this.error=e.message}}},computed:{userData(){return{username:this.username,email:this.email,password:this.password}}}};const G=(0,O.Z)(Z,[["render",L],["__scopeId","data-v-53cf0652"]]);var z=G;const M={class:"wrapper"};function Y(e,t,o,s,r,n){const i=(0,_.up)("AddTask"),a=(0,_.up)("TodoList");return(0,_.wg)(),(0,_.iD)("div",M,[(0,_.Wm)(i),(0,_.Wm)(a)])}const P=e=>((0,_.dD)("data-v-f8f2e596"),e=e(),(0,_.Cn)(),e),q=P((()=>(0,_._)("button",{class:"submit btn"},[(0,_._)("img",{class:"btn__img",src:"https://img.icons8.com/material-outlined/48/000000/add.png"})],-1)));function X(e,t,o,r,n,i){return(0,_.wg)(),(0,_.iD)("form",{action:"",class:"todoForm",onSubmit:t[1]||(t[1]=(0,s.iM)(((...e)=>i.sentTask&&i.sentTask(...e)),["prevent"]))},[(0,_.wy)((0,_._)("input",{class:"input_task",type:"text",placeholder:"Enter your task...","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputTask=e)},null,512),[[s.nr,n.inputTask]]),q],32)}var B={data(){return{inputTask:""}},methods:{...(0,r.nv)({addNewTaskAction:"todos/addNewTaskAction"}),sentTask(){this.inputTask?(this.addNewTaskAction(this.inputTask),this.inputTask=""):alert("write new task and press Enter")}}};const J=(0,O.Z)(B,[["render",X],["__scopeId","data-v-f8f2e596"]]);var Q=J,R=o(2485);const ee=e=>((0,_.dD)("data-v-72c67244"),e=e(),(0,_.Cn)(),e),te={key:0,class:"loading"},oe=ee((()=>(0,_._)("img",{src:R,class:"preloader_img",alt:""},null,-1))),se=[oe],re={key:1,class:"loaded"},ne={class:"filter_wrapper"},ie={class:"filteredTodos"},ae=ee((()=>(0,_._)("span",null,"Filter:",-1))),de=["value","onChange","checked"],le={key:0},ue=ee((()=>(0,_._)("hr",null,null,-1))),ce=(0,_.Uk)(" Total tasks: "),pe={key:1,class:"todo__empty_block"};function me(e,t,o,s,r,n){const i=(0,_.up)("TodoItem");return e.loadingStatus?((0,_.wg)(),(0,_.iD)("div",te,se)):((0,_.wg)(),(0,_.iD)("div",re,[(0,_._)("div",ne,[(0,_._)("div",ie,[ae,((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.getFilters,(({id:t,name:o,checked:s})=>((0,_.wg)(),(0,_.iD)("label",{key:t},[(0,_._)("input",{type:"radio",value:o,onChange:t=>e.setFilteredTodo(o),checked:s},null,40,de),(0,_.Uk)(" "+(0,y.zw)(o),1)])))),128))])]),n.allTodosCounter?((0,_.wg)(),(0,_.iD)("ul",le,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.allTodos,((e,t)=>((0,_.wg)(),(0,_.j4)(i,{key:t,todo:e,todoKey:t},null,8,["todo","todoKey"])))),128)),(0,_.Uk)(" "+(0,y.zw)(e.getTodoFilter)+" ",1),ue,(0,_._)("li",null,[ce,(0,_._)("b",null,(0,y.zw)(n.allTodosCounter),1)])])):((0,_.wg)(),(0,_.iD)("div",pe,"Nothing to do. Add new task!"))]))}const ge=e=>((0,_.dD)("data-v-8f81b840"),e=e(),(0,_.Cn)(),e),he={draggable:"true"},ve={class:"todo_item"},fe={key:0,class:"todo_edit"},ke={key:1,class:"todo_message"},we=["checked"],_e={class:"todo_actions"},ye=ge((()=>(0,_._)("img",{draggable:"false",class:"edit_img",src:"https://img.icons8.com/glyph-neue/64/000000/edit.png",alt:""},null,-1))),Te=[ye],Ue=ge((()=>(0,_._)("img",{draggable:"false",class:"remove_img",src:"https://img.icons8.com/windows/32/000000/delete-forever.png",alt:""},null,-1))),be=[Ue];function De(e,t,o,r,n,i){return(0,_.wg)(),(0,_.iD)("li",he,[(0,_._)("div",ve,[o.todo.isEdit?((0,_.wg)(),(0,_.iD)("div",fe,[(0,_.wy)((0,_._)("input",{class:"todo_input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.currentValueTask=e),onKeypress:t[1]||(t[1]=(0,s.D2)((t=>e.setEditedTodo({key:o.todoKey,value:n.currentValueTask})),["enter"]))},null,544),[[s.nr,n.currentValueTask]])])):((0,_.wg)(),(0,_.iD)("div",ke,[(0,_._)("input",{type:"checkbox",checked:o.todo.isDone,onChange:t[2]||(t[2]=t=>e.setTodoDone(o.todoKey))},null,40,we),(0,_._)("div",{class:(0,y.C_)(["todo_title",{text_through:o.todo.isDone}]),onClick:t[3]||(t[3]=t=>e.setTodoDone(o.todoKey))},(0,y.zw)(o.todo.title),3)])),(0,_._)("div",_e,[(0,_._)("div",{onClick:t[4]||(t[4]=t=>e.setTodoEdit(o.todoKey)),class:"edit"},Te),(0,_._)("div",{class:"remove",onClick:t[5]||(t[5]=t=>e.removeTodo(o.todoKey))},be)])])])}var Ae={props:["todo","todoKey"],data(){return{currentValueTask:this.todo.title}},methods:{...(0,r.nv)({setTodoDone:"todos/setTodoDoneAction",setTodoEdit:"todos/setTodoEditAction",removeTodo:"todos/removeTodoAction",setEditedTodo:"todos/setEditedTodoAction"})}};const Fe=(0,O.Z)(Ae,[["render",De],["__scopeId","data-v-8f81b840"]]);var Ce=Fe,Ie={data(){return{filter:"all"}},watch:{filter(){this.setFilteredTodo(this.filter)}},components:{TodoItem:Ce},methods:{...(0,r.nv)({setFilteredTodo:"todos/setFilteredTodoAction"}),...(0,r.OI)({setCheckedFilter:"todos/setCheckedFilter"})},computed:{...(0,r.Se)({allTodos:"todos/allTodos",loadingStatus:"todos/getLoadingStatus",getTodoFilter:"todos/getTodoFilter",getFilters:"todos/getFilterArr",checkedFilter:"todos/getCheckedFilter"}),allTodosCounter(){return Object.keys(this.allTodos).length}}};const Ee=(0,O.Z)(Ie,[["render",me],["__scopeId","data-v-72c67244"]]);var Oe=Ee,Se={components:{AddTask:Q,TodoList:Oe}};const Ve=(0,O.Z)(Se,[["render",Y],["__scopeId","data-v-14189ffd"]]);var xe=Ve;const $e=(0,_._)("h1",null,"404 error",-1),je=(0,_._)("h3",null,"return to main page",-1),He=(0,_.Uk)("home page");function Ke(e,t){const o=(0,_.up)("router-link");return(0,_.wg)(),(0,_.iD)("div",null,[$e,je,(0,_.Wm)(o,{to:"/"},{default:(0,_.w5)((()=>[He])),_:1})])}const Ne={},We=(0,O.Z)(Ne,[["render",Ke]]);var Le=We;const Ze=(0,w.p7)({history:(0,w.r5)("/vue-todo-list-app/"),routes:[{path:"/",component:V},{path:"/signup",component:z},{path:"/todoapp/",component:xe},{path:"/:pathMatch(.*)",component:Le}]});var Ge=Ze;const ze={class:"container"};function Me(e,t,o,s,r,n){const i=(0,_.up)("HeaderApp"),a=(0,_.up)("router-view"),d=(0,_.up)("FooterApp");return(0,_.wg)(),(0,_.iD)(_.HY,null,[(0,_.Wm)(i,{class:"header"}),(0,_._)("div",ze,[(0,_.Wm)(a)]),(0,_.Wm)(d,{class:"footer"})],64)}const Ye=e=>((0,_.dD)("data-v-79ba44b3"),e=e(),(0,_.Cn)(),e),Pe={class:"header__wrapper"},qe=Ye((()=>(0,_._)("div",{class:"header__logo"},"Vue todo App",-1))),Xe={key:0,class:"header__contacts"},Be={class:"header_userInfo"},Je={key:1},Qe=(0,_.Uk)("login");function Re(e,t,o,s,r,n){const i=(0,_.up)("router-link");return(0,_.wg)(),(0,_.iD)("div",Pe,[qe,e.user?((0,_.wg)(),(0,_.iD)("div",Xe,[(0,_._)("div",Be,[(0,_._)("span",null,(0,y.zw)(n.setUserName()),1)]),(0,_._)("img",{onClick:t[0]||(t[0]=(...t)=>e.logOut&&e.logOut(...t)),class:"img_out",src:"https://img.icons8.com/dotty/80/000000/exit.png"})])):((0,_.wg)(),(0,_.iD)("div",Je,[(0,_.Wm)(i,{to:"/"},{default:(0,_.w5)((()=>[Qe])),_:1})]))])}var et={methods:{...(0,r.nv)({logOut:"user/logOut"}),setUserName(){if(this.user)return this.user.displayName}},computed:{...(0,r.Se)({user:"user/getUser"})}};const tt=(0,O.Z)(et,[["render",Re],["__scopeId","data-v-79ba44b3"]]);var ot=tt;const st=e=>((0,_.dD)("data-v-498821ce"),e=e(),(0,_.Cn)(),e),rt={class:"footer"},nt=st((()=>(0,_._)("span",null,"designed by",-1))),it=(0,_.Uk)(" "),at=st((()=>(0,_._)("a",{href:"https://savelev-konst.site/",target:"_blank"},"Konstantin Savelyev",-1))),dt=[nt,it,at];function lt(e,t){return(0,_.wg)(),(0,_.iD)("div",rt,dt)}const ut={},ct=(0,O.Z)(ut,[["render",lt],["__scopeId","data-v-498821ce"]]);var pt=ct,mt={name:"App",components:{HeaderApp:ot,FooterApp:pt}};const gt=(0,O.Z)(mt,[["render",Me]]);var ht=gt;(0,d.Aj)(c,(e=>{e?(k.commit("user/setUser",e),k.commit("user/setUserAuth",!0),k.dispatch("todos/subscribeToFirebase"),Ge.push("/todoapp")):Ge.push("/")}));const vt=(0,s.ri)(ht);vt.use(Ge),vt.use(k),vt.mount("#app")},2485:function(e,t,o){e.exports=o.p+"img/preloader.82514f49.gif"}},t={};function o(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,s,r,n){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],n=e[u][2];for(var a=!0,d=0;d<s.length;d++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](s[d])}))?s.splice(d--,1):(a=!1,n<i&&(i=n));if(a){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,r,n]}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/vue-todo-list-app/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,i=s[0],a=s[1],d=s[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(d)var u=d(o)}for(t&&t(s);l<i.length;l++)n=i[l],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},s=self["webpackChunkvue_todo_list_app"]=self["webpackChunkvue_todo_list_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(7591)}));s=o.O(s)})();
//# sourceMappingURL=app.af4deb85.js.map