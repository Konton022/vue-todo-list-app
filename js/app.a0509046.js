(function(){"use strict";var e={1555:function(e,t,o){var s=o(9963),r=o(3907),a=o(3416);const n={namespaced:!0,state(){return{todos:[{id:(0,a.x0)(4),title:"hello world from VUE!",isDone:!1,isEdit:!1}]}},actions:{getTodosFromLocalStorage({commit:e}){localStorage.todos&&e("updateTodos",JSON.parse(localStorage.todos))},setDraggedState({commit:e,state:t},[o,s]){const r=t.todos[o],a=t.todos;a.splice(o,1),a.splice(s,0,r),e("updateTodos",a)},addNewTaskAction({commit:e},t){e("addNewTask",t)}},mutations:{updateTodos(e,t){e.todos=t},addNewTask(e,t){e.todos.push({id:(0,a.x0)(4),title:t,isDone:!1,isEdit:!1})},removeTask(e,t){e.todos=e.todos.filter((e=>e.id!==t))},onEditTask(e,t){e.todos.map((e=>(e.id===t&&(e.isEdit=!e.isEdit),e)))},submitEditTask(e,[t,o]){e.todos.map((e=>(e.id===t&&(e.title=o,e.isEdit=!e.isEdit),e)))},checkTodoDone(e,t){e.todos.map((e=>(e.id===t&&(e.isDone=!e.isDone),e)))}},getters:{allTodos:e=>e.todos,allTodosCounter(e){return e.todos.length},filteredTodos:e=>t=>{switch(t){case"done":return e.todos.filter((e=>!0===e.isDone));case"undone":return e.todos.filter((e=>!1===e.isDone));default:return e.todos}}}};var i=n,d=(o(1703),o(5503)),l=o(5319);const u={apiKey:"AIzaSyCvXMvfVQ9SECVrwVJxt_fCLGlUWyApr0k",authDomain:"vue-firebase-project-d18cf.firebaseapp.com",projectId:"vue-firebase-project-d18cf",storageBucket:"vue-firebase-project-d18cf.appspot.com",messagingSenderId:"943588443680",appId:"1:943588443680:web:81d950dcccea6af7fdde45"};(0,d.ZF)(u);const c=(0,l.v0)(),p={namespaced:!0,state(){return{user:null,isUserAuth:!1}},mutations:{setUser(e,t){e.user=t,console.log("user state was changed:",e.user)},setUserAuth(e,t){e.isUserAuth=t,console.log("isAuth state was changed:",e.isUserAuth)}},actions:{async signUp({commit:e},{email:t,password:o}){const s=await(0,l.Xb)(c,t,o);if(!s)throw new Error("could not complete signUp");e("setUser",s.user),e("setUserAuth",!0)},async signIn({commit:e},{email:t,password:o}){const s=await(0,l.e5)(c,t,o);if(!s)throw new Error("could not complete signIn");e("setUser",s.user),e("setUserAuth",!0)},async logOut({commit:e}){await(0,l.w7)(c),e("setUser",null),e("setUserAuth",!1)}},getters:{getUser(e){return e.user}}};var m=p;const g=(0,r.MT)({modules:{todos:i,user:m}});g.subscribe(((e,t)=>{localStorage.setItem("todos",JSON.stringify(t.todos.todos))}));var h=g,v=o(2119),f=o(6252),_=o(3577);const w=e=>((0,f.dD)("data-v-233603a4"),e=e(),(0,f.Cn)(),e),k={class:"wrapper"},T=w((()=>(0,f._)("h2",null,"Sign In please",-1))),D=w((()=>(0,f._)("button",null,"submit",-1))),y=(0,f.Uk)(" Are you not registered? SIGN UP please "),b=(0,f.Uk)("here"),U={key:0,class:"error"};function I(e,t,o,r,a,n){const i=(0,f.up)("router-link");return(0,f.wg)(),(0,f.iD)("div",k,[(0,f._)("form",{action:"",onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.signInUser&&n.signInUser(...e)),["prevent"]))},[T,(0,f.wy)((0,f._)("input",{type:"mail","onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),placeholder:"@email"},null,512),[[s.nr,a.email]]),(0,f.wy)((0,f._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),placeholder:"password"},null,512),[[s.nr,a.password]]),D,(0,f._)("div",null,[y,(0,f.Wm)(i,{to:"/signup"},{default:(0,f.w5)((()=>[b])),_:1})]),a.error?((0,f.wg)(),(0,f.iD)("div",U,(0,_.zw)(a.error),1)):(0,f.kq)("",!0)],32)])}var A={data(){return{email:"",password:"",error:null}},methods:{...(0,r.nv)({signIn:"user/signIn"}),async signInUser(){try{await this.signIn(this.userData),this.email="",this.password="",this.$router.push("/todoapp")}catch(e){this.error=e.message}}},computed:{userData(){return{email:this.email,password:this.password}}}},S=o(3744);const E=(0,S.Z)(A,[["render",I],["__scopeId","data-v-233603a4"]]);var C=E;const O=e=>((0,f.dD)("data-v-73228e9a"),e=e(),(0,f.Cn)(),e),V={class:"wrapper"},N=O((()=>(0,f._)("h2",null,"Registration...",-1))),x=O((()=>(0,f._)("button",null,"register me",-1))),j=(0,f.Uk)("if you have registration, SIGN IN please "),Z=(0,f.Uk)("here"),F={key:0,class:"error"};function W(e,t,o,r,a,n){const i=(0,f.up)("router-link");return(0,f.wg)(),(0,f.iD)("div",V,[(0,f._)("form",{action:"",onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.signUpUser&&n.signUpUser(...e)),["prevent"]))},[N,(0,f.wy)((0,f._)("input",{type:"mail","onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),placeholder:"@email"},null,512),[[s.nr,a.email]]),(0,f.wy)((0,f._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),placeholder:"password"},null,512),[[s.nr,a.password]]),x,(0,f._)("div",null,[j,(0,f.Wm)(i,{to:"/"},{default:(0,f.w5)((()=>[Z])),_:1})]),a.error?((0,f.wg)(),(0,f.iD)("div",F,(0,_.zw)(a.error),1)):(0,f.kq)("",!0)],32)])}var M={data(){return{email:"",password:"",error:null}},methods:{...(0,r.nv)({signUp:"user/signUp"}),async signUpUser(){try{await this.signUp(this.userData),this.email="",this.password="",this.$router.push("/todoapp")}catch(e){this.error=e.message}}},computed:{userData(){return{email:this.email,password:this.password}}}};const z=(0,S.Z)(M,[["render",W],["__scopeId","data-v-73228e9a"]]);var L=z;const G={class:"wrapper"};function H(e,t,o,s,r,a){const n=(0,f.up)("AddTask"),i=(0,f.up)("TodoList");return(0,f.wg)(),(0,f.iD)("div",G,[(0,f.Wm)(n),(0,f.Wm)(i)])}const K=e=>((0,f.dD)("data-v-f8f2e596"),e=e(),(0,f.Cn)(),e),J=K((()=>(0,f._)("button",{class:"submit btn"},[(0,f._)("img",{class:"btn__img",src:"https://img.icons8.com/material-outlined/48/000000/add.png"})],-1)));function P(e,t,o,r,a,n){return(0,f.wg)(),(0,f.iD)("form",{action:"",class:"todoForm",onSubmit:t[1]||(t[1]=(0,s.iM)(((...e)=>n.sentTask&&n.sentTask(...e)),["prevent"]))},[(0,f.wy)((0,f._)("input",{class:"input_task",type:"text",placeholder:"Enter your task...","onUpdate:modelValue":t[0]||(t[0]=e=>a.inputTask=e)},null,512),[[s.nr,a.inputTask]]),J],32)}var Y={data(){return{inputTask:""}},methods:{...(0,r.nv)({addNewTaskAction:"todos/addNewTaskAction"}),sentTask(){this.inputTask?(this.addNewTaskAction(this.inputTask),this.inputTask=""):alert("write new task and press Enter")}}};const q=(0,S.Z)(Y,[["render",P],["__scopeId","data-v-f8f2e596"]]);var X=q;const $=e=>((0,f.dD)("data-v-12f88c51"),e=e(),(0,f.Cn)(),e),B={class:"filter_wrapper"},Q={class:"filteredTodos"},R=$((()=>(0,f._)("span",null,"Filter:",-1))),ee=$((()=>(0,f._)("label",null,"all",-1))),te=$((()=>(0,f._)("label",null,"done",-1))),oe=$((()=>(0,f._)("label",null,"undone",-1))),se=$((()=>(0,f._)("hr",null,null,-1))),re=(0,f.Uk)(" Total tasks: "),ae={key:1,class:"todo__empty_block"};function ne(e,t,o,r,a,n){const i=(0,f.up)("TodoItem");return(0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f._)("div",B,[(0,f._)("div",Q,[R,(0,f.wy)((0,f._)("input",{type:"radio",value:"all","onUpdate:modelValue":t[0]||(t[0]=e=>a.filter=e),checked:""},null,512),[[s.G2,a.filter]]),ee,(0,f.wy)((0,f._)("input",{type:"radio",value:"done","onUpdate:modelValue":t[1]||(t[1]=e=>a.filter=e)},null,512),[[s.G2,a.filter]]),te,(0,f.wy)((0,f._)("input",{type:"radio",value:"undone","onUpdate:modelValue":t[2]||(t[2]=e=>a.filter=e)},null,512),[[s.G2,a.filter]]),oe])]),n.allTodosCounter?((0,f.wg)(),(0,f.iD)("ul",{key:0,onDragover:t[3]||(t[3]=(0,s.iM)((()=>{}),["prevent"])),onDragenter:t[4]||(t[4]=(0,s.iM)((()=>{}),["prevent"]))},[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)(e.filteredTodos(a.filter),(e=>((0,f.wg)(),(0,f.j4)(i,{key:e.id,todo:e,draggable:"true",onDragstart:t=>n.onDragStart(t,e.id),onDrop:t=>n.onDrop(t,e.id)},null,8,["todo","onDragstart","onDrop"])))),128)),se,(0,f._)("li",null,[re,(0,f._)("b",null,(0,_.zw)(n.allTodosCounter),1)])],32)):((0,f.wg)(),(0,f.iD)("div",ae,"Nothing to do. Add new task!"))],64)}const ie=e=>((0,f.dD)("data-v-09481507"),e=e(),(0,f.Cn)(),e),de={draggable:"true"},le={class:"todo_item"},ue={key:0,class:"todo_edit"},ce={key:1,class:"todo_message"},pe=["checked"],me={class:"todo_actions"},ge=ie((()=>(0,f._)("div",{class:"drag"},[(0,f._)("img",{draggable:"false",class:"drag_img",src:"https://img.icons8.com/fluency-systems-regular/48/000000/resize-four-directions.png"})],-1))),he=ie((()=>(0,f._)("img",{draggable:"false",class:"edit_img",src:"https://img.icons8.com/glyph-neue/64/000000/edit.png",alt:""},null,-1))),ve=[he],fe=ie((()=>(0,f._)("img",{draggable:"false",class:"remove_img",src:"https://img.icons8.com/windows/32/000000/delete-forever.png",alt:""},null,-1))),_e=[fe];function we(e,t,o,r,a,n){return(0,f.wg)(),(0,f.iD)("li",de,[(0,f._)("div",le,[o.todo.isEdit?((0,f.wg)(),(0,f.iD)("div",ue,[(0,f.wy)((0,f._)("input",{class:"todo_input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.currentValueTask=e),onKeypress:t[1]||(t[1]=(0,s.D2)((t=>e.submitEditTask([o.todo.id,a.currentValueTask])),["enter"]))},null,544),[[s.nr,a.currentValueTask]])])):((0,f.wg)(),(0,f.iD)("div",ce,[(0,f._)("input",{type:"checkbox",checked:o.todo.isDone,onChange:t[2]||(t[2]=t=>e.checkTodoDone(o.todo.id))},null,40,pe),(0,f._)("div",{class:(0,_.C_)(["todo_title",{text_through:o.todo.isDone}]),onClick:t[3]||(t[3]=t=>e.checkTodoDone(o.todo.id))},(0,_.zw)(o.todo.title),3)])),(0,f._)("div",me,[ge,(0,f._)("div",{onClick:t[4]||(t[4]=t=>e.onEditTask(o.todo.id)),class:"edit"},ve),(0,f._)("div",{class:"remove",onClick:t[5]||(t[5]=t=>e.removeTask(o.todo.id))},_e)])])])}var ke={props:["todo"],data(){return{currentValueTask:this.todo.title}},methods:{...(0,r.OI)({removeTask:"todos/removeTask",onEditTask:"todos/onEditTask",submitEditTask:"todos/submitEditTask",checkTodoDone:"todos/checkTodoDone"})}};const Te=(0,S.Z)(ke,[["render",we],["__scopeId","data-v-09481507"]]);var De=Te,ye={data(){return{filter:"all"}},components:{TodoItem:De},methods:{...(0,r.nv)({setDraggedState:"todos/setDraggedState"}),onDragStart(e,t){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("todoId",t)},onDrop(e,t){const o=e.dataTransfer.getData("todoId"),s=this.allTodos.findIndex((e=>e.id===o)),r=this.allTodos.findIndex((e=>e.id===t));this.setDraggedState([s,r])}},computed:{...(0,r.Se)({allTodos:"todos/allTodos",filteredTodos:"todos/filteredTodos"}),allTodosCounter(){return this.filteredTodos(this.filter).length}}};const be=(0,S.Z)(ye,[["render",ne],["__scopeId","data-v-12f88c51"]]);var Ue=be,Ie={mounted(){this.getTodosFromLocalStorage()},components:{AddTask:X,TodoList:Ue},methods:{...(0,r.nv)({getTodosFromLocalStorage:"todos/getTodosFromLocalStorage"})}};const Ae=(0,S.Z)(Ie,[["render",H],["__scopeId","data-v-f08b190c"]]);var Se=Ae;const Ee=(0,f._)("h1",null,"404 error",-1),Ce=(0,f._)("h3",null,"return to main page",-1),Oe=(0,f.Uk)("home page");function Ve(e,t){const o=(0,f.up)("router-link");return(0,f.wg)(),(0,f.iD)("div",null,[Ee,Ce,(0,f.Wm)(o,{to:"/"},{default:(0,f.w5)((()=>[Oe])),_:1})])}const Ne={},xe=(0,S.Z)(Ne,[["render",Ve]]);var je=xe;const Ze=(0,v.p7)({history:(0,v.r5)("/vue-todo-list-app/"),routes:[{path:"/",component:C},{path:"/signup",component:L},{path:"/todoapp/",component:Se},{path:"/:pathMatch(.*)",component:je}]});var Fe=Ze;const We={class:"container"};function Me(e,t,o,s,r,a){const n=(0,f.up)("HeaderApp"),i=(0,f.up)("router-view"),d=(0,f.up)("FooterApp");return(0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f.Wm)(n,{class:"header"}),(0,f._)("div",We,[(0,f.Wm)(i)]),(0,f.Wm)(d,{class:"footer"})],64)}const ze=e=>((0,f.dD)("data-v-30520ac8"),e=e(),(0,f.Cn)(),e),Le={class:"header__wrapper"},Ge=ze((()=>(0,f._)("div",{class:"header__logo"},"Vue todo App",-1))),He={key:0,class:"header__contacts"},Ke={class:"header_userInfo"},Je={key:1},Pe=(0,f.Uk)("login");function Ye(e,t,o,s,r,a){const n=(0,f.up)("router-link");return(0,f.wg)(),(0,f.iD)("div",Le,[Ge,e.user?((0,f.wg)(),(0,f.iD)("div",He,[(0,f._)("div",Ke,[(0,f._)("span",null,(0,_.zw)(a.setUserName()),1)]),(0,f._)("button",{onClick:t[0]||(t[0]=(...t)=>e.logOut&&e.logOut(...t)),class:"btn"},"logout")])):((0,f.wg)(),(0,f.iD)("div",Je,[(0,f.Wm)(n,{to:"/"},{default:(0,f.w5)((()=>[Pe])),_:1})]))])}var qe={methods:{...(0,r.nv)({logOut:"user/logOut"}),setUserName(){if(this.user)return this.user.email}},computed:{...(0,r.Se)({user:"user/getUser"})}};const Xe=(0,S.Z)(qe,[["render",Ye],["__scopeId","data-v-30520ac8"]]);var $e=Xe;const Be=e=>((0,f.dD)("data-v-498821ce"),e=e(),(0,f.Cn)(),e),Qe={class:"footer"},Re=Be((()=>(0,f._)("span",null,"designed by",-1))),et=(0,f.Uk)("Â "),tt=Be((()=>(0,f._)("a",{href:"https://savelev-konst.site/",target:"_blank"},"Konstantin Savelyev",-1))),ot=[Re,et,tt];function st(e,t){return(0,f.wg)(),(0,f.iD)("div",Qe,ot)}const rt={},at=(0,S.Z)(rt,[["render",st],["__scopeId","data-v-498821ce"]]);var nt=at,it={name:"App",components:{HeaderApp:$e,FooterApp:nt}};const dt=(0,S.Z)(it,[["render",Me]]);var lt=dt;(0,l.Aj)(c,(e=>{e?(h.commit("user/setUser",e),h.commit("user/setUserAuth",!0),Fe.push("/todoapp")):Fe.push("/")}));const ut=(0,s.ri)(lt);ut.use(Fe),ut.use(h),ut.mount("#app")}},t={};function o(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,s,r,a){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],a=e[u][2];for(var i=!0,d=0;d<s.length;d++)(!1&a||n>=a)&&Object.keys(o.O).every((function(e){return o.O[e](s[d])}))?s.splice(d--,1):(i=!1,a<n&&(n=a));if(i){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,r,a]}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,a,n=s[0],i=s[1],d=s[2],l=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(d)var u=d(o)}for(t&&t(s);l<n.length;l++)a=n[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},s=self["webpackChunkvue_todo_list_app"]=self["webpackChunkvue_todo_list_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(1555)}));s=o.O(s)})();
//# sourceMappingURL=app.a0509046.js.map